final HA 회고록
마지막 HA인 만큼 테스트 케이스도 까다로웠고, 마처 이해하지 못한 개념들을 찾아가면서 많이 배웠다. 개인적으로 쿠키를 세팅하는 부분과 세션을 이용해 유저 로그인 상태를 저장하는 부분이 제일 까다로웠다... 이때까지 테스트케이스에 맞춰서 코드를 작성하는것에 너무 중점을 둬서 그런지 개념적인 부분이 들어가면 헤메고 또 헤메게 되더라.. 헤멧던 부분을 다시는 까먹지 않기 위해 기록하고자 한다.

간단한 로그인, 로그아웃 기능을 구현하기 위해 데이터베이스와 서버, 클라이언트 부분을 모두 신경써야 했다. 먼저 데이터베이스 부분부터 짚어보자.

[데이터 베이스]
관계형 데이터베이스 관리 시스템 MySQL을 활용해 데이터베이스를 구축했고, 이번 HA같은 경우는 테이블 하나만 관리하면 됐기 때문에 복잡한 쿼리문은 필요하지 않았다. 물론 mysql모듈을 활용해서 쿼리 한문장으로 데이터를 불러올 수 있겠지만 테스트 케이스는 sequelize ORM을 기준으로 작성되어 있었기 때문에 써야만 했다... 이왕 이렇게 된거 장점을 알아보고 쓰자는 마인드로 여기저기 둘러봤다. 
sequelize의 장점을 알아보기 전에 ORM이 뭔지 부터 확인해 보자. 

1. ORM(Object-relatinal mapping) : 
객체관계 매핑. 위키피디아에서는 데이터베이스와 객체지향 프로그래밍 언어간의 호환되지 않는 데이터를 변환해주는 프로그래밍 기법이라고 한다. 그러고보니 mysql을 배울 때 데이터를 어떻게 받아왔는지 제대로 정리하지 못했어서 1주일 전으로 돌아갔다.. 그날그날 메모한건 나중에 정리하도록 하자..
일단 mysql모듈만 활용해서 쿼리를 통해 데이터를 받아오는 로직은 쿼리문을 아무리 잘 알아도 어떤 데이터를 가져오는 것인지 한눈에 알아볼 순 없을 것 같다(아직은). 그리고, npm에 작성된 문서를 보면 DB에서 데이터를 가져올 때 콜백형태로 데이터를 받아오는데 서버단 로직이 복잡하다면 ORM을 적용하지 않았을 때 생각보다 끔찍할 것 같다. 
반면 ORM을 적용했을 때 간단해지는 비즈니스 로직은 충분히 메리트가 있다고 생각이 든다. sezuelize를 통해 테이블 스키마나 모델을 정의하는 과정이 번거로웠지만 한번 정의해놓으면 편하게 사용할 수 있었고, query를 날리는 부분이 간소화되며 비즈니스 로직에 좀 더 집중할 수 있어 개인적으로 매우 좋다고 생각된다. 아직은 라이브러리 코드를 분석해보진 않아서 이렇게 쓰면 된다 정도로 알고 있지만 향후에 더 공부해보고 싶다.
외에도 Prisma가 있다고 하는데 이건 다음에 찾아봐야겠다.

조사해볼 부분
1. https key관련 비대칭 암호화
2. cors, session 저장방식
3. 서버에서 400대 스테이터스 코드를 응답해주면 오류로 되더라.
4. this.props.history.push("/") 관련
5. 라우트 render <=> 콜백
6. setState 비동기 관련
7. finally관련
8. 








componentDidUpdate with props